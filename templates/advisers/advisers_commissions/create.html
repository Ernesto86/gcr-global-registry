{% extends 'v2/base/crud/form/form.html' %}

{% block form-card-body %}
    <div class="form-group row">
        <label class="control-label col-sm-3 align-self-center mb-0 text-black" for="{{ form_2.advisers_specific.id_for_label }}">{{ form_2.advisers_specific.label }}:</label>
        <div class="col-sm-9">
            {{ form_2.advisers_specific }}
        </div>
    </div>

    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.advisers_percentage_period_1.id_for_label }}">{{ form_2.advisers_percentage_period_1.label }}:</label>
                {{ form_2.advisers_percentage_period_1 }}
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.days_commissions_period_1.id_for_label }}">{{ form_2.days_commissions_period_1.label }}:</label>
                {{ form_2.days_commissions_period_1 }}
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.advisers_percentage_max_period_1.id_for_label }}">{{ form_2.advisers_percentage_max_period_1.label }}:</label>
                {{ form_2.advisers_percentage_max_period_1 }}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.advisers_percentage_period_2.id_for_label }}">{{ form_2.advisers_percentage_period_2.label }}:</label>
                {{ form_2.advisers_percentage_period_2 }}
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.days_commissions_period_2.id_for_label }}">{{ form_2.days_commissions_period_2.label }}:</label>
                {{ form_2.days_commissions_period_2 }}
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.advisers_percentage_max_period_2.id_for_label }}">{{ form_2.advisers_percentage_max_period_2.label }}:</label>
                {{ form_2.advisers_percentage_max_period_2 }}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.advisers_percentage_period_3.id_for_label }}">{{ form_2.advisers_percentage_period_3.label }}:</label>
                {{ form_2.advisers_percentage_period_3 }}
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.days_commissions_period_3.id_for_label }}">{{ form_2.days_commissions_period_3.label }}:</label>
                {{ form_2.days_commissions_period_3 }}
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label class="form-label text-black" for="{{ form_2.advisers_percentage_max_period_3.id_for_label }}">{{ form_2.advisers_percentage_max_period_3.label }}:</label>
                {{ form_2.advisers_percentage_max_period_3 }}
            </div>
        </div>
    </div>
{% endblock %}

{% block base-body-js %}

    <script>
        const objElevate = {}
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function (e) {
            const objD = {
                CONSTANT: {},
                elem: {
                    $advisers_percentage_max_period_1: document.getElementById('id_advisers_percentage_max_period_1'),
                    $advisers_percentage_max_period_2: document.getElementById('id_advisers_percentage_max_period_2'),
                    $advisers_percentage_max_period_3: document.getElementById('id_advisers_percentage_max_period_3'),

                    $advisers_percentage_period_1: document.getElementById('id_advisers_percentage_period_1'),
                    $advisers_percentage_period_2: document.getElementById('id_advisers_percentage_period_2'),
                    $advisers_percentage_period_3: document.getElementById('id_advisers_percentage_period_3'),
                },
                repeat: {},
                loadFirst: {},
                model: {},
                fun: {}
            }

            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////  CARGA DEFECTO  ///////////////////////////////////////////////////

            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            ///////////////////////////////////////////////  EVENTOS  /////////////////////////////////////////////////////////


            objD.elem.$advisers_percentage_period_1.addEventListener('change', (e) => {
                if (parseInt(e.target.value) > parseInt(objD.elem.$advisers_percentage_max_period_1.value))
                    alert("Excedió valor maximo: " + objD.elem.$advisers_percentage_max_period_1.value)
            })
            objD.elem.$advisers_percentage_period_2.addEventListener('change', (e) => {
                if (parseInt(e.target.value) > parseInt(objD.elem.$advisers_percentage_max_period_2.value))
                    alert("Excedió valor maximo: " + objD.elem.$advisers_percentage_max_period_2.value)
            })
            objD.elem.$advisers_percentage_period_3.addEventListener('change', (e) => {
                if (parseInt(e.target.value) > parseInt(objD.elem.$advisers_percentage_max_period_3.value))
                    alert("Excedió valor maximo: " + objD.elem.$advisers_percentage_max_period_3.value)
            })
        })

        {% if messages %}
            {% for message in messages %}
                {% if message.tags.lower == 'success' %}
                    AppSystem.handleComp.alert.alert.show({title: "{{ message }}", typeFeature: AppSystem.CONSTANT.typeFeature.success})
                {% elif message.tags.lower == 'error'  %}
                    AppSystem.handleComp.alert.alert.show({title: "{{ message }}", typeFeature: AppSystem.CONSTANT.typeFeature.danger})
                {% endif %}
            {% endfor %}
        {% endif %}

    </script>
{% endblock %}
